(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{85:function(e,t,c){},86:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var a=c(4),s=c.n(a),n=c(43),r=c.n(n),i=(c(85),c(15)),o=(c(86),c(114)),d=c(38);c(88),c(99);d.a.initializeApp({apiKey:"AIzaSyDqebVV7l_QBfma9ceiFWl5s8m8-NXiOK8",authDomain:"chat-app-new-4008b.firebaseapp.com",projectId:"chat-app-new-4008b",storageBucket:"chat-app-new-4008b.appspot.com",messagingSenderId:"861701484068",appId:"1:861701484068:web:38121e2b0049daccc4b2b1",measurementId:"G-LWFJZSGWBN"}),console.dir(d.a);var j=d.a.auth(),h=d.a.firestore(),b=new d.a.auth.GoogleAuthProvider,l=h,m=c(48),O=c(13),u=function(e){var t,c=e.id,s=e.data,n=e.addNewChat,r=Object(a.useState)([]),d=Object(i.a)(r,2),j=d[0],h=d[1],b=Object(a.useRef)(null);return Object(a.useEffect)((function(){l.collection("rooms").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){h(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(a.useEffect)((function(){l.collection("rooms").doc(c).onSnapshot((function(e){c&&(b.current=e.data().avatar)}))}),[c]),n?Object(O.jsx)("div",{className:"sidebarChat",onClick:function(){var e=prompt("Enter the Room Name ");e&&l.collection("rooms").add({name:e,avatar:"https://avatars.dicebear.com/api/human/".concat(5e3*Math.random(),".svg")})},children:Object(O.jsx)("h3",{children:"Add New Room"})}):Object(O.jsx)(m.b,{to:"/rooms/".concat(c),children:Object(O.jsxs)("div",{className:"sidebarChat",children:[Object(O.jsx)("div",{className:"sidebarChat__left",children:Object(O.jsx)(o.a,{src:b.current})}),Object(O.jsxs)("div",{className:"sidebarChat__right",children:[Object(O.jsx)("h2",{children:s}),Object(O.jsxs)("p",{children:["Last Message - ",null===(t=j[0])||void 0===t?void 0:t.message]})]})]})})},I=c(113),C=c(75),g=c.n(C),x=c(76),v=c.n(x),Q=c(63),p=c.n(Q),B=c(64),A=c.n(B),E=function(){var e=Object(a.useContext)(S),t=Object(a.useState)(""),c=Object(i.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)([]),d=Object(i.a)(r,2),j=d[0],h=d[1];return Object(a.useEffect)((function(){l.collection("rooms").onSnapshot((function(e){h(e.docs.map((function(e){return{id:e.id,data:e.data().name}})))}))}),[]),Object(O.jsxs)("div",{className:"sidebar",children:[Object(O.jsxs)("div",{className:"sidebar__header",children:[Object(O.jsx)(o.a,{src:"".concat(e.details.photoURL)}),Object(O.jsxs)("div",{className:"sidebar__header__right",children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(g.a,{})}),Object(O.jsx)(I.a,{children:Object(O.jsx)(v.a,{})}),Object(O.jsx)(I.a,{children:Object(O.jsx)(p.a,{onClick:function(){}})})]})]}),Object(O.jsx)("div",{className:"sidebar__search",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(A.a,{}),Object(O.jsx)("input",{type:"text",value:s,onChange:function(e){n(e.target.value)},placeholder:"Search the Room"})]})}),Object(O.jsxs)("div",{className:"sidebar__chats",children:[Object(O.jsx)(u,{addNewChat:!0}),j.map((function(e){return Object(O.jsx)(u,{id:e.id,data:e.data},e.id)}))]})]})},f=c(77),y=c.n(f),L=c(78),N=c.n(L),w=c(18),D=function(){var e,t,c=Object(a.useContext)(S),s=Object(a.useRef)(null),n=Object(a.useRef)(null),r=Object(a.useState)(""),j=Object(i.a)(r,2),h=j[0],b=j[1],m=Object(a.useState)([]),u=Object(i.a)(m,2),C=u[0],g=u[1],x=Object(w.f)().roomId;Object(a.useEffect)((function(){x&&l.collection("rooms").doc(x).onSnapshot((function(e){b(e.data().name),n.current=e.data().avatar}))}),[x]),Object(a.useEffect)((function(){x&&l.collection("rooms").doc(x).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){g(e.docs.map((function(e){return e.data()})))}))}),[x]);return Object(O.jsxs)("div",{className:"chat",children:[Object(O.jsxs)("div",{className:"chat__header",children:[Object(O.jsxs)("div",{className:"chat__header__info",children:[Object(O.jsx)(o.a,{src:n.current}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:h}),Object(O.jsx)("p",{children:C[C.length-1]?"Last Seen at "+new Date(null===(e=C[C.length-1])||void 0===e||null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toLocaleString():"Please type the First Message"})]})]}),Object(O.jsxs)("div",{className:"chat__header__headerRight",children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(A.a,{})}),Object(O.jsx)(I.a,{children:Object(O.jsx)(y.a,{})}),Object(O.jsx)(I.a,{children:Object(O.jsx)(p.a,{})})]})]}),Object(O.jsx)("div",{className:"chat__body",children:C.map((function(e){var t;return Object(O.jsxs)("p",{className:e.nameId===c.details.uid?"chat__receiver":"chat__message",children:[Object(O.jsx)("span",{className:"chat__heading",children:e.name}),e.message,Object(O.jsx)("span",{className:"chat__timestamp",children:new Date(null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toLocaleString()})]})}))}),Object(O.jsxs)("div",{className:"chat__footer",children:[Object(O.jsx)(N.a,{}),Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{type:"text",ref:s,placeholder:"Type a message"}),Object(O.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),l.collection("rooms").doc(x).collection("messages").add({name:c.details.displayName,message:s.current.value,nameId:c.details.uid,timestamp:d.a.firestore.FieldValue.serverTimestamp()}),s.current.value=""},children:"Submit"})]})]})]})},P=function(){return Object(O.jsx)("div",{className:"chat__empty__container"})},G=function(e){var t=e.setMethod,c=Object(a.useContext)(Y);return Object(O.jsxs)("div",{className:"login-page",children:[Object(O.jsx)("img",{src:"data:image/png;base64,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",alt:""}),Object(O.jsx)("h1",{children:"Sign in to ChatRoom"}),Object(O.jsx)("button",{onClick:function(){j.signInWithPopup(b).then((function(e){console.log(e),c({type:"PERSON_INFO",payload:e.user}),t(!0)})).catch((function(e){alert(e.message)}))},children:"Sign in with Google"})]})},k=c(53),q={details:[],isUserLoggedIn:!1,Room_info:{}},R=function(e,t){switch(t.type){case"PERSON_INFO":return Object(k.a)(Object(k.a)({},e),{},{details:t.payload});case"ROOM_INFO":return Object(k.a)(Object(k.a)({},e),{},{Room_info:t.payload});default:return e}},S=s.a.createContext(),Y=s.a.createContext();var H=function(){var e=Object(a.useReducer)(R,q),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),r=Object(i.a)(n,2),o=r[0],d=r[1];return Object(O.jsx)(S.Provider,{value:c,children:Object(O.jsx)(Y.Provider,{value:s,children:Object(O.jsx)("div",{className:"app",children:o?Object(O.jsx)("div",{className:"app__container",children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)(E,{}),Object(O.jsxs)(w.c,{children:[Object(O.jsx)(w.a,{path:"/rooms/:roomId",children:Object(O.jsx)(D,{})}),Object(O.jsx)(w.a,{path:"/",children:Object(O.jsx)(P,{})})]})]})}):Object(O.jsx)(G,{setMethod:d})})})})};r.a.render(Object(O.jsx)(H,{}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.06abff73.chunk.js.map